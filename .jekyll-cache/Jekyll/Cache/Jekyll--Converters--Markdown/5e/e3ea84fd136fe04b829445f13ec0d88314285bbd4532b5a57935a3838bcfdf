I"´T<p><strong>Authors</strong>: Compiled and organized by Daren Card with input from Anna Williford, Mehdi Eslamieh, Devendra Umbrajkar, Kevin Vilbig &amp; Gaurav Kolekar.</p>

<p><strong>License</strong>: GNU GPLv2</p>

<p><strong>Adapted from</strong>: <a href="http://software-carpentry.org/">Software Carpentry</a>, <a href="http://www.datacarpentry.org/">Data Carpentry</a>, &amp; <a href="https://github.com/brunogrande/lesson-github-pages/blob/master/lesson/lesson.md">Bruno Grande</a></p>

<p>Here are written lessons of the concepts taught at the UT-Arlington Software Carpentry workshop. These should provide enough details to allow you to essentially retake the course by yourself. Github can be used to make suggestions for improvements to these materials. We hope everyone found the workshop enjoyable and stimulating.</p>

<p>Before beginning, students should</p>

<ol>
  <li>Create a directory on their Desktop called ‚ÄòSCW_April2016‚Äô.</li>
  <li>Download the <a href="https://github.com/librarianrafia/librarianrafia.github.io/raw/master/data/input_data.zip">zipped input files</a>.</li>
  <li>Unzip the download and move it into the ‚ÄòSCW_April2016‚Äô directory.</li>
</ol>

<p>Note: Users who completed the Git/GitHub portion of the workshop correctly should also be able to download their final <a href="https://github.com/librarianrafia/librarianrafia.github.io/raw/master/data/output_data.zip">output data</a>.</p>

<p><strong>Sections</strong></p>

<p><a href="#getting-acquainted-with-the-bash-shell-environment">Getting acquainted with the Bash shell environment</a></p>

<p><a href="#analyzing-and-plotting-data-using-python">Analyzing and plotting data using Python</a></p>

<p><a href="#establishing-your-online-presence-with-git-and-github-pages">Establishing your online presence with Git and GitHub pages</a></p>

<h1 id="getting-acquainted-with-the-bash-shell-environment">Getting acquainted with the Bash shell environment</h1>

<h2 id="motivation">Motivation</h2>
<p>The Unix shell has been in existence for decades and is therefore one of the most powerful pieces of software one can learn for data analysis. This is not only due to the fact it provides a powerful means of directly manipulating data. It can be used to write analysis scripts to automate data analysis. It is also the direct interface to most open-source software written for data analysis in the sciences. Therefore, even if you end up using Python or R for a lot of data analysis, you will also interact frequently with the Unix shell.</p>

<h2 id="overview-of-lesson">Overview of Lesson</h2>
<p>Learners will explore the following concepts.</p>

<ol>
  <li>Using the Bash shell through the computer terminal.</li>
  <li>Properly navigating through the computer file system hierarchy using the shell.</li>
  <li>Creating, renaming, and deleting files and directories.</li>
  <li>Manipulating text files to extract useful information.</li>
  <li>Writing basic shell scripts to automate processes.</li>
  <li>Working with multiple files at once using wildcards and loops.</li>
</ol>

<h2 id="using-the-bash-shell">Using the Bash shell</h2>
<p>The Bash Shell may be new to most users and represents one of many command-line interfaces (CLIs) in use. It provides the ability to run programs and to write new programs. Apple and Linux users can access their Bash shell by opening the terminal and typing <code class="language-plaintext highlighter-rouge">bash</code>. Windows users will have to install and open <code class="language-plaintext highlighter-rouge">git-bash</code>.</p>

<p>Bash follows a Read-Evaluate-Print loop, meaning the computer reads input from the user, executes it, and prints the output of the process. The user provides the input at the prompt, which usually ends with <code class="language-plaintext highlighter-rouge">$</code>, which we‚Äôve left out on all commands below. Let‚Äôs get familiar with this.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># '#' here and everywhere should be interpreted as comment</span>

<span class="c"># echo command is executed: Try</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"Welcome to our workshop"</span>

<span class="c"># List of built-in bash commands:Try</span>
<span class="nv">$ </span><span class="nb">help</span>

<span class="c"># To get help for the command: Try</span>
<span class="nv">$ </span><span class="nb">wc</span> <span class="nt">--help</span>  
<span class="nv">$ </span><span class="nb">grep</span> <span class="nt">--help</span>
<span class="nv">$ </span>man <span class="nb">wc</span>

<span class="c"># We will look at help pages in more details later</span>
<span class="c"># And if you cannot find the command you want, google!</span>

<span class="c"># TAB can be used to autocomplete accessible programs and directories/files.</span>
<span class="c"># UP and DOWN arrows enable users to navigate through the history of commands they have run.</span>
</code></pre></div></div>

<p>There are many commands natively available in the Bash Shell, most of which we won‚Äôt get to. You can use <code class="language-plaintext highlighter-rouge">compgen -c</code> command to list all the commands that are available on your system. Take a look at this <a href="http://cli.learncodethehardway.org/bash_cheat_sheet.pdf">cheat sheet</a> to see more information on many of these.</p>

<p>As you can see from the list of Linux commands, bash can be used to deal with administrative tasks and text file manipulation, but it is also a programming language with variables, data structures, flow control statements and user-defined functions.</p>

<p>We will start by introducing simple administration-like commands that will allow you to find your way around the existing directory structure and then create new files and directories. After that we will see how to manipulate files and write shell scripts.</p>

<h2 id="navigate-through-your-file-system">Navigate through your file system</h2>

<p>Know who you are and where you are! Let‚Äôs talk about file system (folders and files) and how to find your way around.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># It can be useful to know which user you are on the computer. </span>
<span class="c"># Maybe not so much on your personal laptop, but definitely on public servers and other systems. </span>
<span class="c"># Use the following command to see the username of the active user.</span>
<span class="nb">whoami</span>
</code></pre></div></div>

<p>As a long time user of computers, you‚Äôve almost certainly become proficient in navigating your file system by clicking on folders and files using the GUI environment Desktop. You can do the same thing using the terminal.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># First, we should figure out where we currently are.</span>
<span class="nb">pwd</span>  <span class="c"># stands for 'print working directory'</span>
<span class="c"># Let's see what files and directories are available in our current working directory</span>
<span class="nb">ls</span>   <span class="c"># stands for 'list'</span>
<span class="c"># You can feed 'flags' or 'options' to many commands. </span>
<span class="c"># Using 'man &lt;command&gt;' in the Apple/Linux terminal will show these options (sorry, won't work on git-bash).</span>
<span class="nb">ls</span> <span class="nt">-F</span>   <span class="c"># adds some extra info to the output, we will use this flag when we use 'ls'</span>
<span class="c"># Another common task is simply moving through the file system to get to new locations.</span>
<span class="c"># You should be starting out in your HOME directory, so typing the following will move you to your Desktop.</span>
<span class="nb">cd </span>Desktop
</code></pre></div></div>

<p>Once you get used to the overall filesystem structure, which is pretty similar across operating systems and computers, you‚Äôll be able to rapidly navigate to different locations. Take a look at <a href="http://www.tutorialspoint.com/unix/unix-file-system.htm">this page</a> for an overview on the basics of the typical Unix file system.</p>

<p><strong><em>Challenge #1</em></strong>
Navigate to the folder you should have created before beginning this lesson. Once there, list the contents of the directory. Can you figure out how to list the contents without navigating to the folder?</p>

<p><strong><em>Solution</em></strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># As separate commands</span>
<span class="nb">cd </span>Desktop/SCW_April2016
<span class="nb">ls</span> <span class="nt">-F</span>
<span class="c"># As one command, from any directory</span>
<span class="nb">ls</span> <span class="nt">-F</span> ~/Desktop/SCW_April2016
</code></pre></div></div>

<h2 id="absolute-vs-relative-paths">Absolute vs. Relative paths</h2>

<p>So far, you have used what are called relative paths when moving between directories. This means that you have moved between directories based on your current location in the file system, or relative to your current location.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># You've seen how to move into a directory within your working directory.</span>
<span class="c"># You can also move back out into the directory just outside of your working directory.</span>
<span class="nb">cd</span> ..
<span class="c"># In this context '..' means 'the directory containing my working directory' or the parent of the current directory</span>
<span class="c"># There is a similar notation for the working directory: '.'</span>
<span class="c"># Let's list the contents of our current directory.</span>
<span class="nb">ls</span> <span class="nb">.</span>
<span class="c"># One of the commands above also specified a directory relative to your HOME directory, which has '~' as a shortcut.</span>
<span class="c"># Let's list the contents of our HOME directory.</span>
<span class="nb">ls</span> ~
<span class="c"># Finally, sometimes it is useful to move back to your last working directory, whereever it is in the file system.</span>
<span class="nb">pwd</span>
/Users/username/
<span class="nb">cd </span>Desktop/SCW_April2016
<span class="nb">pwd</span>
/Users/username/Desktop/SCW_April2016/
<span class="nb">cd</span> -
<span class="nb">pwd</span>
/Users/username/
</code></pre></div></div>

<p><strong><em>Challenge #2</em></strong>
Make a diagram of the directory structure within HOME and practice navigation commands. The commands needed to do this are included above.</p>

<h2 id="creating-moving-and-deleting-files-and-directories">Creating, moving, and deleting files and directories</h2>

<p>One of the major goals of any computer work is the create and remove directories and files. You can do the same very easily using the shell.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Let's begin by moving into our 'SCW_April2016' directory</span>
<span class="nb">cd</span> ~/Desktop/SCW_April2016
<span class="c"># Now let's make a single new directory called 'Linux'</span>
<span class="nb">mkdir </span>Linux   <span class="c"># mkdir stands for 'make directory'</span>
<span class="c"># If we wanted to immediately remove this directory, we could.</span>
<span class="nb">rmdir </span>Linux   <span class="c"># rmdir stands for 'remove directory'... but let's not do this</span>
<span class="c"># Create three move directories for each of the sections we will have in the workshop. You can do this w/ one command.</span>
<span class="nb">mkdir </span>Python SQL Git
<span class="c"># You should now see these in your directory</span>
<span class="nb">ls
</span>Linux  Python  SQL  Git
<span class="c"># Let's now move into the Linux directory and create an empty file.</span>
<span class="nb">cd </span>Linux
<span class="nb">touch </span>MyFirstFile.txt   <span class="c"># touch simply initiates an empty file</span>
<span class="c"># You can now add content using a text editor, which can be opened using the GUI or the terminal</span>
edit MyFirstFile.txt  <span class="c"># this works on Apple, npp, subl, or other options exist depending on the platform.</span>
<span class="c"># Be sure you save and close the editor in order to have your prompt return</span>
<span class="c"># Now let's view the contents of the file.</span>
<span class="nb">cat </span>MyFirstFile.txt   <span class="c"># cat stands for 'concatenate'</span>
</code></pre></div></div>

<p>Files are commonly moved around in file systems, as you probably already know.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># renaming is accomplished by essentially moving a current file into a new file name.</span>
<span class="nb">ls
</span>MyFirstFile.txt
<span class="nb">mv </span>MyFirstFile.txt MyFirstScript.sh  <span class="c"># syntax: mv $source $destination</span>
<span class="nb">ls
</span>MyFirstScript.sh
<span class="c"># we can also move files between directories, which acts more like a conventional move.</span>
<span class="c"># move our script to the Python directory</span>
<span class="nb">mv </span>MyFirstScript.sh ../Python/
<span class="c"># check to make sure it works</span>
<span class="nb">ls</span>
           <span class="c"># no files</span>
<span class="nb">ls</span> ../Python
MyFirstScript.sh
<span class="c"># let's copy this back to our Linux directory</span>
<span class="nb">cp</span> ../Python/MyFirstScript.sh ./
<span class="c"># This was a dummy file, so let's get rid of it</span>
<span class="nb">rm </span>MyFirstScript.sh
</code></pre></div></div>

<p>Be careful when deleting files in the Bash Shell, as changes are final. There is no recycling/trash bin where you can recover it!</p>

<p><strong><em>Challenge #3</em></strong>
We will soon be working with the files in the ‚Äòdata_linux‚Äô directory you downloaded and unzipped earlier. It should currently be within the ‚ÄòSCW_April2016‚Äô directory. Please move it to the ‚ÄòLinux‚Äô directory to prepare fo the upcoming material. Also familiarize yourself with the contents of the ‚Äòdata_linux‚Äô directory.</p>

<p><strong><em>Solution</em></strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># This will work no matter where you are in your file system</span>
<span class="nb">mv</span> ~/Desktop/SCW_April2016/data_linux ~/Desktop/SCW_April2016/Linux
</code></pre></div></div>

<h2 id="manipuating-text-files-using-the-bash-shell">Manipuating text files using the Bash Shell</h2>

<p>Take a minute and open the ‚ÄòOECD_Countries_Full.txt‚Äô file in Excel. You‚Äôll see that this file contains some interesting information on many different countries in the world, including statistics on things like infant death rates, etc. We are going to spend some time manipulating this file to extract information using the Bash Shell. Some information you might want to know is:</p>
<ol>
  <li>How big is this file?</li>
  <li>What countries does this dataset include?</li>
  <li>What is the country with the highest infant mortality rate?</li>
  <li>What country has lowest income inequality?</li>
  <li>How do these countries rank with respect to taxes?</li>
  <li>What year has the most data?</li>
</ol>

<p>Let‚Äôs see how we can do some of this. But first create <code class="language-plaintext highlighter-rouge">results</code> folder in <code class="language-plaintext highlighter-rouge">Linux</code> folder. You now should have 2 folders in your <code class="language-plaintext highlighter-rouge">Linux</code> folder: <code class="language-plaintext highlighter-rouge">data_linux</code> and <code class="language-plaintext highlighter-rouge">results</code>. Change directory into <code class="language-plaintext highlighter-rouge">results</code> and let‚Äôs examine our data file.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># how large is your file `wc` outputs lines, words, bytes</span>
<span class="nb">wc </span>OECD_Countries_Full.txt  <span class="c"># error! why? you should know why!</span>
<span class="nb">wc</span> ../data_linux/OECD_Countries_Full.txt  <span class="c"># try also with absolute path!</span>
<span class="c"># look at the first n lines</span>
<span class="nb">head</span> <span class="nt">-n</span> 10 ../data_linux/OECD_Countries_Full.txt   <span class="c"># also try `tail`</span>
<span class="c"># how many countries in this file?</span>
<span class="nb">cut</span> <span class="nt">-f1</span> ../data_linux/OECD_Countries_Full.txt
<span class="c"># you'll notice this prints the first column, country name, but there are lots of duplicates!</span>
<span class="c"># we can redirect the output into a file, rather than as output in the terminal</span>
<span class="c"># this is useful if we wanted to do more work using the output</span>
<span class="nb">cut</span> <span class="nt">-f1</span> ../data_linux/OECD_Countries_Full.txt <span class="o">&gt;</span> CountryList.txt
<span class="c"># view the contents of the output file</span>
<span class="nb">cat </span>CountryList.txt
<span class="c"># in order to count the number of countries, we must combine two commands</span>
<span class="c"># first we need to use 'sort' to sort the file so that all countries are clustered together on back-to-back (...) lines</span>
<span class="nb">sort </span>CountryList.txt <span class="o">&gt;</span> SortCountryList.txt
<span class="c"># then we can use the 'uniq' to only output unique lines.</span>
<span class="c"># uniq can only infer uniqueness if a file is sorted!</span>
<span class="nb">uniq </span>SortCountryList.txt <span class="o">&gt;</span> UniqSortCountryList.txt
<span class="c"># and finally, we can use the familiar 'wc' command to count the number of lines, which is also the number of countries</span>
<span class="nb">wc</span> <span class="nt">-l</span> UniqSortCountryList.txt   <span class="c"># -l (l as in lion) means only output 'lines'</span>
<span class="c"># actually this number isn't totally correct, since it includes the header line, so we must subtract 1</span>
<span class="c"># either way, this is a lot easier than counting by hand</span>
</code></pre></div></div>

<p>Notice, we created 3 output files to find out how many countries are included into our dataset. You can fun <code class="language-plaintext highlighter-rouge">ls</code> to see for yourself. Do we really need them? One way to avoid generating intermediate files you do not need is to string different commands together, known as ‚Äòpiping‚Äô. Piping means that the output of one command is used as the input of the next command, which means it isn‚Äôt written to the disk. This is one of the most powerful aspects of the Bash Shell, which has been optimized over decades to facilitate just this type of data manipulation.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># the '|' (above the 'Enter' key) is used to perform piping</span>
<span class="c"># we can perform the same analysis as above, start to finish, with 1 command!</span>
<span class="c"># in this command the '-u' flag in 'sort' is the same as specifying 'uniq' separately</span>
<span class="nb">cut</span> <span class="nt">-f1</span> ../data_linux/OECD_Countries_Full.txt | <span class="nb">sort</span> <span class="nt">-u</span> | <span class="nb">wc</span> <span class="nt">-l</span>
<span class="c"># we can also add add another pipe to remove the "Country" header and get an accurate count</span>
<span class="nb">cut</span> <span class="nt">-f1</span> ../data_linux/OECD_Countries_Full.txt | <span class="nb">sort</span> <span class="nt">-u</span> | <span class="nb">grep</span> <span class="nt">-v</span> <span class="s2">"Country"</span> | <span class="nb">wc</span> <span class="nt">-l</span>
</code></pre></div></div>

<p><strong><em>Challenge #4</em></strong>
Expand your piping skills by answering the following question. Which country had the highest ‚ÄúInfant_mortality‚Äù in 2012? Use <code class="language-plaintext highlighter-rouge">OECD_Countries_Full.txt</code> as an input file and generate <code class="language-plaintext highlighter-rouge">CountryWithHighestMortality.txt</code> as your ONLY output file. It is fine to generate intermediate files while you work towards a solution, but the ultimate solution should be only one command and output file~ You‚Äôve seen all the commands necessary to perform this.</p>

<p><strong><em>Solution</em></strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># begin by performing each step in the full pipe individually</span>
<span class="c"># 1. select all rows with `Infant_mortality` in it</span>
<span class="nb">grep </span>Infant_mortality ../data_linux/OECD_Countries_Full.txt <span class="o">&gt;</span> InfantMortality_all.txt
<span class="c"># 2. get data for 2012 only</span>
<span class="nb">grep </span>2012 InfantMortality_all.txt <span class="o">&gt;</span> InfantMortality_2012.txt
<span class="c"># 3. select only 1st and 6th columns</span>
<span class="nb">cut</span> <span class="nt">-f1</span>,6 InfantMortality_2012.txt <span class="o">&gt;</span> InfantMortality_2012_short.txt
<span class="c"># 4. sort by 2nd column from min to max</span>
<span class="nb">sort</span> <span class="nt">-n</span> <span class="nt">-k2</span> InfantMortality_2012_short.txt <span class="o">&gt;</span> InfantMortality_2012_short_Sorted.txt
<span class="c"># 5. select country with highest mortality rate</span>
<span class="nb">tail</span> <span class="nt">-n</span> 1 InfantMortality_2012_short_Sorted.txt <span class="o">&gt;</span> InfantMortality_2012_short_Sorted_Highest.txt
<span class="c"># now let's put this together into single piped command, as instructed</span>
<span class="nb">grep </span>Infant_mortality ../data_linux/OECD_Countries_Full.txt| <span class="nb">grep </span>2012 | <span class="nb">cut</span> <span class="nt">-f1</span>,6 | <span class="nb">sort</span> <span class="nt">-n</span> <span class="nt">-k2</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1 <span class="o">&gt;</span> CountryWithHighestMortality.txt 
</code></pre></div></div>

<h2 id="constructing-shell-scripts-for-automation">Constructing Shell scripts for automation</h2>

<p>But what if you want to reuse these commands? You want to do something similar on another file?
We need to save the commands to file so we can easily reuse/modify them later.
Such collection of commands in the order you want them to be executed is a simple shell script.</p>

<p>Let‚Äôs make <code class="language-plaintext highlighter-rouge">scripts</code> folder in the <code class="language-plaintext highlighter-rouge">Linux</code> folder. Go to <code class="language-plaintext highlighter-rouge">scripts</code>. We will keep our scrpts here. 
While in <code class="language-plaintext highlighter-rouge">results</code> folder you can <code class="language-plaintext highlighter-rouge">mkdir ../scripts</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># copy and paste or just redirect the line that works (from history) to `MyFirstScript.sh` file</span>
<span class="c"># echo simply echos the text you provide back to the terminal as output, much like printing</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"grep Infant_mortality ../data_linux/OECD_Countries_Full.txt | grep 2012 | cut -f1,6 | sort -n -k2 | tail -n 1  &gt; CountryWithHighestMortality.txt"</span> <span class="o">&gt;</span> ../scripts/MyFirstScript.sh
</code></pre></div></div>

<p>Notice we created <code class="language-plaintext highlighter-rouge">MyFirstScript.sh</code> in <code class="language-plaintext highlighter-rouge">script</code> directory. Let‚Äôs view and modify it slightly. You can view it from your current directory or <code class="language-plaintext highlighter-rouge">cd</code> into <code class="language-plaintext highlighter-rouge">scripts</code> and view from there using your favorite text editor. Examples: <code class="language-plaintext highlighter-rouge">npp MyFirstScript.sh</code> or <code class="language-plaintext highlighter-rouge">edit MyFirstScript.sh</code>.</p>

<p>We‚Äôll add three lines at the top of the file</p>
<ol>
  <li>The shell that should be used to execute your code: <code class="language-plaintext highlighter-rouge">#!/bin/bash</code></li>
  <li>A one-line description of what your script does</li>
  <li>Usage statement so people can determine how to run your script: <code class="language-plaintext highlighter-rouge">usage: MyFirstScript.sh</code></li>
</ol>

<p>Let‚Äôs run it from <code class="language-plaintext highlighter-rouge">scripts</code> directory. But first look at it carefully, do you think it will run?</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#./ indicates that you are running script from working directory</span>
./MyFirstScript.sh
</code></pre></div></div>

<p>But is it a good script? Would it run from any directory? Could you reuse with a different file? How can we make it more flexible?</p>

<p>To make it flexible we need to introduce a variable for a part of code that we want to change frequently. Variables store values like they do in mathametics. For example, if we want to run this code with a different file, we want a variable instead of hard-wired filename; a variable can take any user-defined value.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># here is a quick examples of variables using the Bash shell</span>
<span class="nv">myname</span><span class="o">=</span>Name
<span class="nb">echo </span>Name
Name
<span class="nb">echo </span>myname
myname       <span class="c"># not what we want!</span>
<span class="nb">echo</span> <span class="nv">$myname</span>
Name	     <span class="c"># the '$' before makes something a variable!</span>
</code></pre></div></div>

<p>Let‚Äôs modify MyFirstScript.sh to include a variable and save it as ‚ÄòMyFirstScript_Variable.sh‚Äô.</p>

<p>Here is <code class="language-plaintext highlighter-rouge">MyFirstScript_Variable.sh</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># record a country with highest Infant_mortality among countries in OECD_Countries_Full.txt</span>
<span class="c">#usage: script.sh</span>

<span class="nv">input</span><span class="o">=</span>../data_linux/OECD_Countries_Full.txt

<span class="nb">grep </span>Infant_mortality <span class="nv">$input</span> | <span class="nb">grep </span>2012 | <span class="nb">cut</span> <span class="nt">-f1</span>,6 | <span class="nb">sort</span> <span class="nt">-n</span> <span class="nt">-k2</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1  <span class="o">&gt;</span> CountryWithHighestMortality.txt
</code></pre></div></div>
<p>Run it from <code class="language-plaintext highlighter-rouge">scripts</code>: <code class="language-plaintext highlighter-rouge">./MyFirstScript_Variable.sh</code></p>

<p>Is it better? A little bit. Hopefully you see why.
What would be even better? We probably want to provide filename at the command line and not have to change the script itself. Let‚Äôs create a new script called ‚ÄòMyFirstScript_NaiveVariable.sh‚Äô.</p>

<p>Here is <code class="language-plaintext highlighter-rouge">MyFirstScript_NaiveVariable.sh</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># record a country with highest Infant_mortality among countries in OECD_Countries_Full.txt</span>
<span class="c"># usage: script.sh $inputFile   #notice how we need to run this now</span>

<span class="nv">input</span><span class="o">=</span><span class="nv">$1</span>  <span class="c">#special variable that stores the the first argument at the command line</span>

<span class="nb">grep </span>Infant_mortality <span class="nv">$input</span>| <span class="nb">grep </span>2012  | <span class="nb">cut</span> <span class="nt">-f1</span>,6 | <span class="nb">sort</span> <span class="nt">-n</span> <span class="nt">-k2</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1  <span class="o">&gt;</span> CountryWithHighestMortality.txt
</code></pre></div></div>

<p>Run it from <code class="language-plaintext highlighter-rouge">scripts</code>: <code class="language-plaintext highlighter-rouge">./MyFirstScript_NaiveVariable.sh ../data_linux/OECD_Countries_Full.txt</code></p>

<p>This script is much better, but it can certainly be even better!</p>

<p><strong><em>Challenge #5</em></strong>
Work in groups to write a script that would allow user to compare any indices between the countries (not just Infant_mortality), use data for any year (not just 2012) and write the output to a user-defined output file.</p>

<p><strong><em>Solution</em></strong>
Here is <code class="language-plaintext highlighter-rouge">MyAwesomeFirstScript.sh</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash

#record a country with highest Infant_mortality among countries in OECD_Countries_Full.txt
#usage: script.sh $inputFile $index $year $outFile   #notice how we need to run this now

input=$1              #special variable that stores the the first argument at the command line
measure=$2            # $2, $3, $3 store values from 2-4 command line arguments
year=$3
out=$4

grep $measure $input| grep $year| cut -f1,6 | sort -n -k2 | tail -n 1  &gt; $out
</code></pre></div></div>

<p>Run it from <code class="language-plaintext highlighter-rouge">scripts</code>: <code class="language-plaintext highlighter-rouge">./MyFirstScript_Good.sh ../data_linux/OECD_Countries_Full.txt Income_inequality_interdecile_ratio_P90_P10,_level,_late_2000s 2013 CountryWithHighestIncomeInequality.txt</code></p>

<p>This is much better. If you want to keep output files in <code class="language-plaintext highlighter-rouge">results</code> folder, your output file should be <code class="language-plaintext highlighter-rouge">../results/CountryWithHighestIncomeInequality.txt</code></p>

<h2 id="working-with-multiple-files-at-once-using-wildcards-and-loops">Working with multiple files at once using wildcards and loops</h2>

<p>Go to <code class="language-plaintext highlighter-rouge">data_linux/ByCountry</code>. This directory contains data from <code class="language-plaintext highlighter-rouge">OECD_Countries_Full.txt</code> but was split by country using this command:
<code class="language-plaintext highlighter-rouge">grep -v Country OECD_Countries_Full.txt | awk '{print &gt;$1"_data.txt"}'</code>. If you stick with this, one day you will understand this command!</p>

<p>We can use a wild card to get information about multiple files at the same time, instead of issuing commands for each file, one at a time.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># the '*' wildcard matches any anything, whether a single character or many</span>
<span class="nb">wc</span> <span class="nt">-l</span> <span class="k">*</span>     <span class="c"># print number of lines for all files</span>
<span class="c"># we can restrict our wildcards a little</span>
<span class="c"># let's only print the number of lines for those files that start with 'A'.</span>
<span class="nb">wc</span> <span class="nt">-l</span> A<span class="k">*</span>
<span class="c"># we can instead print the number of lines for files that start with 'I' and have an 'e' somewhere inside the file.</span>
<span class="nb">wc</span> <span class="nt">-l</span> I<span class="k">*</span>e<span class="k">*</span>
<span class="c"># the '?' wildcard matches a single instance of something</span>
<span class="c"># we can print the number of lines for files that start with 'I' and have an 'e' as the 3rd character.</span>
<span class="nb">wc</span> <span class="nt">-l</span> I?e<span class="k">*</span>
</code></pre></div></div>

<p>These are the simplest forms of what we call regular expressions. These get way too complex for this lesson, but you can find out more by about how powerful regular expressions are.</p>

<p>The <code class="language-plaintext highlighter-rouge">wc</code> command knows to operate on each file when you provide a wildcard. However, some commands cannot do this, like the script we created before. In these cases, we have to run a commmand on multiple files using a loop.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># here is a very simple loop that will echo (print) the name of each file in your working directory</span>
<span class="k">for </span>file <span class="k">in</span> <span class="k">*</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nv">$file</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div></div>

<p>Let‚Äôs use this loop idea to run a script that will extract data on particular measure from every country file found in <code class="language-plaintext highlighter-rouge">ByCountry</code> folder and record it to a single output file</p>

<p>This is CollectDataFromByCountry.sh. Save it to <code class="language-plaintext highlighter-rouge">ByCountry</code> folder for now.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
# this script collects data of user-specified index measured in a given year from all country-specific files
# usage: script.sh $inputFile $measure $year

input=$1
index=$2
year=$3

# note the '&gt;&gt;'. This means append instead of write, so that the output won't overwrite previous output.
grep $index $input| grep $year | cut -f1,6 &gt;&gt; $index"_"$year.txt 
</code></pre></div></div>

<p>Now that we have a command we want to run on each file in ‚ÄòEveryCountry‚Äô, we must put it into a loop.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># let's extract the lies from each file that contain the 'Total_fertility_rates' from 2012</span>
<span class="k">for </span>file <span class="k">in</span> <span class="k">*</span><span class="p">;</span> <span class="k">do </span>CollectDataFromByCountry.sh <span class="nv">$file</span> Total_fertility_rates 2012<span class="p">;</span> <span class="k">done</span> 
<span class="c"># now we should see a file called 'Total_fertility_rates_2012.txt' in the 'EveryCountry' directory.</span>
</code></pre></div></div>

<p><strong><em>Challenge</em></strong>
For you final challange, go to <code class="language-plaintext highlighter-rouge">ByMeasure</code> directory. In this case the files contain data from <code class="language-plaintext highlighter-rouge">OECD_Countries_Full.txt</code> but was split by measure/index using this command:
<code class="language-plaintext highlighter-rouge">grep -v Country OECD_Countries_Full.txt | awk '{print &gt;$3"_data.txt"}'</code></p>

<p>Take a look at a file to see what this command did. Now write a script that will collect information from every measure-specific file for a user-defined country. Hint: This will be very similar to the script we‚Äôve already worked with.</p>

<p>Once your script is complete, use a loop to run it on each file in the ‚ÄòByMeasure‚Äô directory.</p>

<p><strong><em>Solution</em></strong>
This is GetCountryInfo.sh.  Save it to <code class="language-plaintext highlighter-rouge">ByMeasure</code> folder for now.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
# this script collects data for user-specified country from all index-specific files
# usage: script.sh $inputFile $country

input=$1
country=$2

grep $country $input &gt;&gt; $country.txt 
</code></pre></div></div>

<p>Run it from <code class="language-plaintext highlighter-rouge">ByCountry</code> folder:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span>file <span class="k">in</span> <span class="k">*</span><span class="p">;</span> <span class="k">do</span> ./GetCountryInfo.sh <span class="nv">$file</span> Sweden<span class="p">;</span> <span class="k">done</span> 
</code></pre></div></div>

<h2 id="additional-resources">Additional Resources</h2>

<ul>
  <li>Linux OS:
    <ul>
      <li><a href="http://www.linfo.org/">http://www.linfo.org/</a></li>
      <li><a href="http://www.tutorialspoint.com//operating_system/os_linux.htm">http://www.tutorialspoint.com//operating_system/os_linux.htm</a></li>
    </ul>
  </li>
  <li>Linux servers
    <ul>
      <li>UTA: <a href="https://www.uta.edu/oit/cs/web/OmegaUtaEdu-webPage.php">omega</a>, <a href="http://www.uta.edu/oit/eos/hpc/">HPC</a></li>
      <li><a href="https://portal.tacc.utexas.edu/">TACC</a></li>
    </ul>
  </li>
  <li>Linux commands
    <ul>
      <li><a href="http://linuxcommand.org/">http://linuxcommand.org/</a></li>
      <li><a href="http://cli.learncodethehardway.org/bash_cheat_sheet.pdf">http://cli.learncodethehardway.org/bash_cheat_sheet.pdf</a></li>
      <li><a href="http://www.pixelbeat.org/cmdline.html">http://www.pixelbeat.org/cmdline.html</a></li>
      <li><a href="http://ss64.com/bash/">http://ss64.com/bash/</a></li>
      <li><a href="https://linuxconfig.org/linux-commands">https://linuxconfig.org/linux-commands</a></li>
    </ul>
  </li>
  <li>Linux file/directory naming rules
    <ul>
      <li><a href="http://www.cyberciti.biz/faq/linuxunix-rules-for-naming-file-and-directory-names/">http://www.cyberciti.biz/faq/linuxunix-rules-for-naming-file-and-directory-names/</a></li>
    </ul>
  </li>
  <li>Bash scpipting titorial
    <ul>
      <li><a href="https://linuxconfig.org/bash-scripting-tutorial">https://linuxconfig.org/bash-scripting-tutorial</a></li>
    </ul>
  </li>
</ul>

<h1 id="analyzing-and-plotting-data-using-python">Analyzing and plotting data using Python</h1>

<h2 id="motivation-1">Motivation</h2>
<p>Python has emerged as one of the premier frameworks for data manipulation and analysis in recent years to to its easy-to-read syntax, speed, and great community support. As such, it is also becoming the go-to introductory programming language in many learning settings. Given its relative youth, it is likely Python will continue to overtake alternative programming languages for a variety of reasons.</p>

<h2 id="overview-of-lesson-1">Overview of Lesson</h2>
<p>Learners will explore the following concepts.</p>

<ol>
  <li>Important data analysis packages for use in Python.</li>
  <li>Reading common text formats.</li>
  <li>Gathering basic information and statistics from tabular data.</li>
  <li>Making basic plots of data.</li>
</ol>

<h2 id="important-necessary-packages-into-python">Important necessary packages into Python</h2>

<p>Python relies on packages to provide useful functions to users. Therefore, when one begins using Python, he or she must tell Python to import the necessary packages to complete the given work. For this portion of the lesson, we will be working with the packages sys, matplotlib, and pandas.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># packages import syntax: import &lt;package&gt; or from &lt;package&gt; import *
# users can also import to a variable, which can be useful: import &lt;package&gt; as &lt;variable&gt;
</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>               <span class="c1">#this is how I usually import pandas
</span><span class="kn">import</span> <span class="nn">sys</span>                        <span class="c1">#only needed to determine Python version number
</span><span class="kn">import</span> <span class="nn">matplotlib</span>                 <span class="c1">#only needed to determine Matplotlib version number
</span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="o">*</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>                <span class="c1">#Enable inline plotting
</span></code></pre></div></div>

<p>Packages will be periodically updated, so it is important to be able to keep track of package versions. Sometimes certain functions will be limited or unavailable in certain versions.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># let's check what version of pandas we are using
# note that we read pandas in as 'pd' to save a bit of typing
</span><span class="n">pd</span><span class="p">.</span><span class="n">__version__</span>
</code></pre></div></div>

<h2 id="reading-data-for-use-in-python">Reading data for use in Python</h2>

<p>Python provides many useful commands for reading and writing text files, as this is the first and last step, respectively, in any successful data analysis. Common text formats for tabular data are comma-separated values (csv) and tab-separated values (tsv), and you can commonly tell which is which by looking at file extensions. Let‚Äôs create a series of commands to read in a tsv file and write out a csv.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>      <span class="c1"># A useful package for readin tablular data
</span>
<span class="c1"># remember that tsv is input and csv is output
# if working on Mac/Linux, the below absolute paths will be different, so adjust accordingly
# set variables for the input and output files, called tsv_file and csv_file respectively
</span><span class="n">tsv_file</span> <span class="o">=</span> <span class="s">"C:/Users/MMEslamieh/Desktop/SCW/OECD_data_25Countries_Full.tsv"</span>
<span class="n">csv_file</span> <span class="o">=</span> <span class="s">"C:/Users/MMEslamieh/Desktop/SCW/OECD_data_25Countries_Full.csv"</span>

<span class="c1"># read the input file to a object called 'in_tsv', specifying tab-delimited ('\t') values
</span><span class="n">in_tsv</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">tsv_file</span><span class="p">,</span> <span class="s">'r'</span><span class="p">),</span> <span class="n">delimiter</span> <span class="o">=</span> <span class="s">'</span><span class="se">\t</span><span class="s">'</span><span class="p">)</span>

<span class="c1"># initalize an empty output file to write to
</span><span class="n">out_csv</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">writer</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="s">'w'</span><span class="p">))</span>

<span class="c1"># create a for loop that reads each line from the input tsv file
# and writes it to an output csv file
</span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">in_tsv</span><span class="p">:</span>
    <span class="n">out_csv</span><span class="p">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">in_txt</span><span class="p">)</span> 
    
<span class="c1"># close the output file to finish writing
</span><span class="n">out_csv</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="gathering-some-basic-information-about-our-data">Gathering some basic information about our data</h2>
<p>Now let‚Äôs start from scratch, to a degree, by reading in a our tabular data using pandas, which is designed for this type of data.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># let's read our working data in again using pandas
</span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'Desktop/SCW/Test/OECD_data_25Countries_Full.csv'</span><span class="p">)</span>

<span class="c1"># now we can gather a basic understanding of our data using a few commands
</span><span class="n">data</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>                      <span class="c1"># show first five rows-default
</span><span class="n">data</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>                    <span class="c1"># show first ten rows
</span><span class="n">data</span><span class="p">.</span><span class="n">tail</span><span class="p">()</span>                      <span class="c1"># show last five rows
</span><span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>                      <span class="c1"># summary of data
</span><span class="n">data</span><span class="p">.</span><span class="n">Year</span><span class="p">.</span><span class="n">value_counts</span><span class="p">()</span>         <span class="c1"># Count the number of Values
</span><span class="n">data</span><span class="p">.</span><span class="n">describe</span><span class="p">()</span>			 <span class="c1"># description statistics of data frame
</span><span class="n">data</span><span class="p">.</span><span class="n">GNI</span><span class="p">.</span><span class="n">describe</span><span class="p">()</span>		 <span class="c1"># description statistics of single column: GNI
</span><span class="n">data</span><span class="p">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">,[</span><span class="s">'Country'</span><span class="p">,</span> <span class="s">'GNI'</span><span class="p">]]</span>  <span class="c1"># slicing by row and column
</span><span class="n">data</span><span class="p">[</span><span class="s">'GNI'</span><span class="p">].</span><span class="nb">max</span><span class="p">()</span>		 <span class="c1"># or data.GNI.max(), maximum of GNI column
</span><span class="n">data</span><span class="p">[</span><span class="s">'GNI'</span><span class="p">].</span><span class="nb">min</span><span class="p">()</span>		 <span class="c1"># or data.GNI.min(), minimum of GNI column
</span><span class="n">data</span><span class="p">[</span><span class="s">'GNI'</span><span class="p">].</span><span class="n">median</span><span class="p">()</span>		 <span class="c1"># or data.GNI.median(), median of GNI column
</span><span class="n">Year2011</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">.</span><span class="n">Year</span><span class="o">==</span><span class="mi">2011</span><span class="p">]</span> <span class="c1"># filter for specific column, storing as an object
</span><span class="n">Year2011</span><span class="p">.</span><span class="n">sort_index</span><span class="p">()</span>            <span class="c1"># sort our stored object by row
</span><span class="n">Year2011</span><span class="p">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>    <span class="c1"># sort our stored object by column
</span><span class="n">Sorted_2010</span> <span class="o">=</span> <span class="n">Year2010</span><span class="p">.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="p">[</span><span class="bp">False</span><span class="p">,</span><span class="bp">True</span><span class="p">],</span> <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s">'GNI'</span><span class="p">,</span><span class="s">'InfantMortality'</span><span class="p">])</span>   <span class="c1"># sort by two columns, storing as an object
</span><span class="n">Year2011</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">'Desktop/SCW/Test/Year2011.csv'</span><span class="p">)</span> <span class="c1"># save 'Year2011' object as CSV format
</span></code></pre></div></div>

<h2 id="subsetting-and-grouping-data">Subsetting and grouping data</h2>

<p>With tabular data, sometimes multiple rows may contain the same value in a given column. One may want to calculate statistics on only those rows that can be grouped together by a certain column. For example, given the data we are working with, someone may want to determine the average infant mortality rate across countries in the year 2012.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data_grouped</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Year'</span><span class="p">)</span>  	 <span class="c1"># group the Year 
</span><span class="n">data_grouped</span><span class="p">.</span><span class="n">GNI</span><span class="p">.</span><span class="n">median</span><span class="p">()</span>            	 <span class="c1"># Show the median of each group(country) separately
</span><span class="n">data_grouped</span><span class="p">.</span><span class="n">GNI</span><span class="p">.</span><span class="n">describe</span><span class="p">()</span>		 <span class="c1"># summary statistics
</span><span class="n">data_grouped</span><span class="p">.</span><span class="n">get_group</span><span class="p">(</span><span class="mi">2011</span><span class="p">).</span><span class="n">GNI</span><span class="p">.</span><span class="n">hist</span><span class="p">()</span>  <span class="c1"># make a histogram of 2011 only
</span><span class="n">data_grouped</span><span class="p">.</span><span class="n">get_group</span><span class="p">(</span><span class="mi">2012</span><span class="p">).</span><span class="n">GNI</span><span class="p">.</span><span class="n">hist</span><span class="p">()</span>  <span class="c1"># run with above line make two histogram simultaneously, side by side plot
</span><span class="n">data_grouped</span><span class="p">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span> <span class="o">=</span> <span class="s">'GNI'</span><span class="p">)</span>     <span class="c1"># compare boxplots side by side
</span></code></pre></div></div>

<h2 id="creating-plots-of-data-for-visualization">Creating plots of data for visualization</h2>

<p>We‚Äôve seen a few basic plots above, but it is definitely worth devoting a whole section to plotting.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># create a histogram
</span><span class="n">data</span><span class="p">.</span><span class="n">GNI</span><span class="p">.</span><span class="n">hist</span><span class="p">()</span> 
<span class="n">data</span><span class="p">.</span><span class="n">GNI</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> 			<span class="c1"># set the number of bins for histogram
# create an area plot
</span><span class="n">data</span><span class="p">.</span><span class="n">IncomeInequality</span><span class="p">.</span><span class="n">plot</span><span class="p">.</span><span class="n">area</span><span class="p">()</span>
<span class="c1"># create a box plot
</span><span class="n">data</span><span class="p">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'GNI'</span><span class="p">)</span>
<span class="c1"># now let's make a plot and manipulate some attributes like color
</span><span class="n">data</span><span class="p">[</span><span class="s">'GNI'</span><span class="p">].</span><span class="n">plot</span><span class="p">()</span>        		<span class="c1"># or data.GNI.plot()
</span><span class="n">data</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">'Country'</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">'GNI'</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">'red'</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">kind</span> <span class="o">=</span> <span class="s">'bar'</span><span class="p">)</span>
</code></pre></div></div>

<p><strong><em>Challenge #1</em></strong>
Spend a few minutes making plots of various columns in our data. Try adjusting options like the color, plot size, and plot type. You can use Google to try to experiment with other options.</p>

<p>One can also create plots by adding successive layers, like below.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># create a plot object with a basic plot, like that we've alrady made
</span><span class="n">d</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">'Country'</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">'GNI'</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s">'bar'</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">'red'</span> <span class="p">,</span> <span class="n">figsize</span><span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="c1"># now we can add things like labels and legends
</span><span class="n">d</span><span class="p">.</span><span class="n">set_title</span> <span class="p">(</span><span class="s">'GNI over country'</span> <span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span><span class="mi">40</span><span class="p">)</span> <span class="c1"># Add the title to the plot
</span><span class="n">d</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Country'</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span><span class="mi">20</span><span class="p">)</span> 		<span class="c1"># label the x axis
</span><span class="n">d</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'GNI'</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span><span class="mi">20</span><span class="p">)</span> 		<span class="c1"># label the Y axis
</span><span class="n">d</span><span class="p">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'Test'</span><span class="p">])</span> 				<span class="c1"># Legend the plot
# we can now save our figure
</span><span class="n">fig</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="n">get_figure</span><span class="p">()</span>                		<span class="c1"># Gather the figure as object 'fig'
</span><span class="n">fig</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'Desktop/SCW/Test/Year_2011.png'</span><span class="p">)</span>	<span class="c1"># Write out
</span></code></pre></div></div>

<p>Now let‚Äôs create a scatter plot and view the correlation between a couple of our columns.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># let's just work with the year 2011, using an object we already created
</span><span class="n">d</span> <span class="o">=</span> <span class="n">data_2011</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s">'scatter'</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span><span class="s">'InfantMortality'</span> <span class="p">,</span> <span class="n">y</span> <span class="o">=</span><span class="s">'IncomeInequality'</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">'green'</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">marker</span> <span class="o">=</span> <span class="s">'*'</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">d</span><span class="p">.</span><span class="n">set_title</span> <span class="p">(</span><span class="s">'Year 2011'</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">d</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Infant Mortality'</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">d</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Income Inequality'</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">d</span><span class="p">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'Test'</span><span class="p">])</span>
<span class="c1"># now calculate the correlation between these fields
</span><span class="n">slope</span> <span class="o">=</span> <span class="n">data_2011</span><span class="p">[</span><span class="s">'IncomeInequality'</span><span class="p">].</span><span class="n">corr</span><span class="p">(</span><span class="n">data_2011</span><span class="p">[</span><span class="s">'InfantMortality'</span><span class="p">])</span>
<span class="n">slope</span>
</code></pre></div></div>

<h2 id="additional-resources-1">Additional Resources</h2>

<ul>
  <li>pandas
    <ul>
      <li><a href="http://pandas.pydata.org/">http://pandas.pydata.org/</a></li>
      <li><a href="https://pypi.python.org/pypi/pandas/">https://pypi.python.org/pypi/pandas/</a></li>
    </ul>
  </li>
</ul>

<h1 id="establishing-your-online-presence-with-git-and-github-pages">Establishing your online presence with Git and GitHub pages</h1>

<h2 id="motivation-2">Motivation</h2>

<p>It is becoming evermore important to establish a web presence, even as an undergraduate student. Facebook, Twitter, and the like are methods for doing this, but many would agree that it is much more professional to give people a snazzy website. Historically, people gravitated towards large website creation websites or had to learn HTML and other languages to build their own websites. Then there was the arduous task of finding or paying someone to host your website. Fortunately, the increased expectation of creating and maintaining a website is correlated with the increased ease in doing so, due in part to cloud-based hosting solutions and intuitive markdown-based methods of building content.</p>

<p>GitHub has emerged as one of the best options creating an awesome looking website easily and cheaply (even free!). As the name implies, GitHub was founded as simply a online hub, or hosting service, for Gits, or as they are commonly called, Git repositories. Git, put simply, is a flexible and powerful file management and archival system. It was built with complex project management in mind, in an effort allow project developers to keep track of file identities and versions, and seamlessly navigate through this complex temporal and hierarchical file-system structures. If this isn‚Äôt making sense, the comic below more-or-less outlines what Git allows users to avoid.</p>

<p><img src="/images/not_final_doc.gif" alt="not_final.doc" /></p>

<h2 id="overview-of-lesson-2">Overview of Lesson</h2>

<p>Learners will complete the following broad tasks:</p>

<ol>
  <li>Fork a website template repository on GitHub and use Git locally to pull this repository onto their computer.</li>
  <li>Make necessary changes to setup the website and then add content, using Markdown, while learning the basics of Git.</li>
  <li>Push local changes back to remote repository at GitHub, which then automatically builds and displays the website.</li>
  <li>Users will conclude by populating their website with all materials and overviews of the lessons for the Software Carpentry workshop they participated in. This will allow them to reference this information later.</li>
</ol>

<h2 id="forking-and-cloning-a-repository">Forking and Cloning a Repository</h2>

<p>GitHub Pages, GitHub‚Äôs service that builds and hosts websites, utilizes several fairly complex programming languages, thus saving the user the trouble of knowing them in great depth. One simply has to provide a properly formatted repository and GitHub does the rest. We will take advantage of this, plus open source website templates, to create personal websites. For this lesson, learners will be using the <a href="https://github.com/barryclark/jekyll-now">Jekyll Now template</a>, but there are <a href="http://jekyllthemes.org/">many options</a> out there.</p>

<p>This template is contained in a repository owned by <a href="https://github.com/darencard">Daren Card</a>, which is modified slightly from its <a href="https://github.com/barryclark/jekyll-now">original form</a>. It was originally created by <a href="https://github.com/barryclark">Barry Clark</a>. This means that we cannot edit it ourselves. Rather, we will be creating our own copy of it and then modifying it to our liking. The copying will take place on GitHub using a process called ‚Äòforking‚Äô and the editing will take place using a simple text editor on the user‚Äôs local computer. Visit the <a href="https://github.com/darencard/jekyll-now">modified Jekyll Now template repository</a> from Daren and click the Fork button at the top-right. If you happen to already be affiliated with another organization in GitHub, you may be prompted to select an account, and you should use your personal GitHub account.</p>

<p>We‚Äôll make some pretty basic changes online to the repository settings. Under the top tabs is a brief description of the repository that we inherited as part of this template. Click to edit and give your repository a new, brief description. Also include the URL we will use to access your forthcoming website, which should be <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io</code>, where <code class="language-plaintext highlighter-rouge">&lt;username&gt;</code> reflects your GitHub username.</p>

<p>From here, we will work further on our repository on our local computer. Before doing so, we must setup Git for the first time on our machine.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># setup the name git will call us by</span>
git config <span class="nt">--global</span> user.name <span class="s2">"First Last"</span>
<span class="c"># setup the email address to use. must match that used to create github account.</span>
git config <span class="nt">--global</span> user.email <span class="s2">"email@domain.com"</span>
<span class="c"># add some useful colors to output</span>
git config <span class="nt">--global</span> color.ui <span class="s2">"auto"</span>
<span class="c"># specify text editor, to be used in committing. Choose appropriate option:</span>
<span class="c"># nano: git config --global core.editor "nano -w"</span>
<span class="c"># text wrangler: git config --global core.editor "edit -w"</span>
<span class="c"># notepad++: git config --global core.editor "'c:/program files (x86)/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"</span>
<span class="c"># kate: git config --global core.editor "kate"</span>
git config <span class="nt">--global</span> core.editor <span class="s2">"&lt;choice"</span><span class="o">&gt;</span>
<span class="c"># now take a look at these settings (and more)</span>
git config <span class="nt">--list</span>
</code></pre></div></div>

<p>To work locally, we must download the repository from GitHub, which is called ‚Äòcloning‚Äô. We can do this as a zipped file, but let‚Äôs instead learn our first bit of Git. Along the top of your files list you should see a URL. Be sure that the box to the left reads ‚ÄòHTTPS‚Äô and not ‚ÄòSSH‚Äô. The latter requires some further steps, that we will leave that for you to do later using instructions on <a href="https://help.github.com/articles/generating-ssh-keys/">setting up SSH keys</a>. Copy the HTTPS link and in your Terminal type the following commands.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create a 'Repos' directory in your $HOME folder</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> ~/Repos
<span class="c"># Change into your new directory</span>
<span class="nb">cd</span> ~/Repos
<span class="c"># Clone your website template repository from GitHub</span>
git clone https://github.com/&lt;username&gt;/&lt;username&gt;.github.io.git
</code></pre></div></div>

<p>You should now see a see a local copy of your repository in the working directory.</p>

<h2 id="exploring-git">Exploring Git</h2>

<p>We should now spend some time explaining Git in more detail.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Change into your repository directory and view its contents</span>
<span class="nb">cd</span> &lt;username&gt;.github.io
<span class="nb">ls</span>
</code></pre></div></div>

<p>You should see the same exact list of files that was observed on GitHub. So what makes this a Git repository? It appears to be like any other directory. Let‚Äôs explore that question.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># List the full contents of the directory, including hidden files, as a single column</span>
<span class="nb">ls</span> <span class="nt">-1a</span>
<span class="nb">.</span>
..
.git
.gitignore
404.md
</code></pre></div></div>

<p>You should now notice several files with leading dots, indicating they are hidden. The first and second represent the working and upper-level directories, respectively. The next ‚Äò.git‚Äô file is the key to a Git repository, as it contains the information that Git (and GitHub, which is essentially Git running on a server, with some fancy add-ons) use to manage this directory as a repository.</p>

<p>We‚Äôve copied this directory, so let‚Äôs take a quick tangent and explain how one would initialize a Git repository in any directory.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Change directory to the upper-level (notice the use of the ..)</span>
<span class="nb">cd</span> ..
<span class="c"># Make a new directory called whatever you want (I'm using 'biology') and move into it</span>
<span class="nb">mkdir </span>biology
<span class="nb">cd </span>biology
<span class="c"># Create some empty files/directories to make this appear like a normal directory</span>
<span class="nb">mkdir </span>genetics ecology microbiology
<span class="nb">touch </span>zoology botany
</code></pre></div></div>

<p>So now we have essentially the same thing as our copied website template, but without the ‚Äòfancy‚Äô Git hidden files. Let‚Äôs create those now.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Initialize your directory as a Git repository</span>
git init
<span class="c"># View the directory contents</span>
<span class="nb">ls</span> <span class="nt">-1a</span>
<span class="nb">.</span>
..
.git
botany
</code></pre></div></div>

<p>So we now have the the .git hidden file, but what about that .gitignore one. All the .gitignore file specifies are the files and/or directories that you want Git to ignore when it tracks the files in your repository. Therefore, if we find plants boring (because they are!), we could have Git ignore the ‚Äòbotany‚Äô file. We do this by simply adding the names of the files/directories we want to ignore.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># One way of adding 'botany' to our gitignore, sans text editor</span>
<span class="nb">echo</span> <span class="s1">'botany'</span> <span class="o">&gt;</span> .gitignore
</code></pre></div></div>

<p>That gives some basic Git information, and we‚Äôll explore more with real files inside of our website repository.</p>

<h2 id="setting-up-your-website">Setting Up Your Website</h2>

<p>We‚Äôll begin by configuring a couple files that establish the overall website design and that tell our visitors some basic information about ourselves. Let‚Äôs first edit the _config.yml file to set some overall design parameters. Open this file in a text editor and fill in some basic information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>name: &lt;name&gt;
description: &lt;name&gt;'s website
url: &lt;username&gt;.github.io
</code></pre></div></div>

<p>Let‚Äôs also replace that stock photo with something more personal. Go online and find a picture of yourself, or of something fitting of yourself (that you have permission to use). In many cases, you can right-click and select ‚ÄúCopy Image URL‚Äù or something similar. If your lazy you can just use your GitHub image. You can place this as your avatar.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>avatar: http://domain.extension/images/picture.jpg
</code></pre></div></div>

<p>Now let‚Äôs edit the ‚ÄòAbout‚Äô page on our website and provide any visitors with basic information about yourself. When you open the file in a text editor, you‚Äôll see the following header. It simply specifies information about the page design, title, and relative link.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: page
title: About
permalink: /about/
---
</code></pre></div></div>

<p>Next you can modify the text accordingly to tell people about yourself. Notice the pound signs at the beginning of a couple lines and how they translate to the relative text rendering on the website. The syntax is called Markdown and it allows us to take simple text and add some flare without a bunch of coding knowledge. This lesson overview is written in markdown as well. You can use the brief guide at GitHub to get a feel for Markdown.</p>

<h2 id="integrating-our-changes-and-visualizing-the-results">Integrating Our Changes and Visualizing the Results</h2>

<p>Now we want to see what our changes have done to the website. This will introduce the most commonly used Git commands. Let‚Äôs start by viewing our Git status.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status
On branch master
Your branch is up-to-date with <span class="s1">'origin/master'</span><span class="nb">.</span>
Changes not staged <span class="k">for </span>commit:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="k">in </span>working directory<span class="o">)</span>

	modified:   _config.yml
	modified:   about.md

no changes added to commit <span class="o">(</span>use <span class="s2">"git add"</span> and/or <span class="s2">"git commit -a"</span><span class="o">)</span>
</code></pre></div></div>

<p>The output provides us with some useful information, like the branch name (something we won‚Äôt really discuss today). It also includes our two modified files and tells you that neither have been added to commit. Let‚Äôs progress by both adding and committing the changes we‚Äôve made. You should also view the Git status after each one.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add _config.yml about.md
<span class="c"># Hopefully you are noticing the intuitive verbs that Git uses</span>
<span class="c"># This one adds your files to Git's tracking</span>
git commit <span class="nt">-m</span> <span class="s2">"added some basic website info"</span>
<span class="c"># This command commits your changes and provides a useful message about what they are</span>
</code></pre></div></div>

<p>You can also view your Git log and see info on the changes you‚Äôve just made, including obvious things and also a computer generated label for the commit (that long alphanumeric string).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log
commit a69c34a76c0fa85b7ffc86237fb34c8e0f6ae4c3
Author: darencard &lt;dcard@uta.edu&gt;
Date:   Fri Jan 22 22:43:55 2016 <span class="nt">-0600</span>

    added some basic website info
</code></pre></div></div>

<p>The steps you just took made your first Git commit, so Git has recorded these initial changes. Let‚Äôs make some more quick changes to your _config.yml. You‚Äôll notice that there are fields like ‚Äòemail‚Äô and ‚Äògithub‚Äô (and others) where you can include your email address and GitHub handle for people to interact with you. Fill one or two in.</p>

<p>Another key attribute of Git is that it allows you to compare versions of files and note differences. Let‚Äôs compare our _config.yml file from our two commits.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff
diff <span class="nt">--git</span> a/_config.yml b/_config.yml
index b89b129..5a4572f 100644
<span class="nt">---</span> a/_config.yml
+++ b/_config.yml
@@ <span class="nt">-21</span>,12 +21,12 @@ footer-links:
   email:
   facebook:
   flickr:
-  github:
+  github: darencard
   instagram:
   linkedin:
   pinterest:
   rss: <span class="c"># just type anything here for a working RSS icon</span>
-  twitter:
+  twitter: darencard
   stackoverflow: <span class="c"># your stackoverflow profile, e.g. "users/50476/bart-kiers"</span>
   youtube: <span class="c"># channel/&lt;your_long_string&gt; or user/&lt;user-name&gt;</span>
   googleplus: <span class="c"># anything in your profile username that comes after plus.google.com/</span>
</code></pre></div></div>

<p>As you can see, Git gives you pretty intuitive information on the files being compared (plus abbreviated labels) and the specific changes made to the file. Now go ahead and practice adding and committing your new changes. If you view your log again you‚Äôll see this second commit.</p>

<p>Now let‚Äôs say that you made a mistake in editing the _config.yml file. In this context, it would be very easy to open the file back up and make a couple quick edits. However, what if this file is much more complex, like a long shell script, or what if you go through a series of edits and still have an error, and just want to revert to the last working version you had. Git allows you to do this.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Revert to the previous commit</span>
git checkout HEAD~1 _config.yml
<span class="c"># Revert to the commit before the previous commit (or beyond)</span>
git checkout HEAD~2 _config.yml
<span class="c"># Revert to a specific commit using the full commit label</span>
git checkout a69c34a76c0fa85b7ffc86237fb34c8e0f6ae4c3
</code></pre></div></div>

<p>You can use similar relative or absolute commit syntax to compare committed files using a command we‚Äôve already seen.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Compare two previous commits</span>
git diff HEAD~1 HEAD~2 _config.yml
<span class="c"># Compare our newly edited, uncommited files to an exact commit by label</span>
git diff a69c34a76c0fa85b7ffc86237fb34c8e0f6ae4c3
</code></pre></div></div>

<h2 id="integrating-our-changes-with-our-website">Integrating Our Changes with our Website</h2>

<p>These previous steps demonstrate the basics of Git, which can be used locally to keep track of changes to files without having to make separate file copies for each change. Let‚Äôs take this full circle and reintegrate our changes remotely, on GitHub‚Äôs servers, and thus customize our website.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Let's make sure we are at the head of our branch</span>
git checkout HEAD
<span class="c"># Push our changes to GitHub where it can be integrated into our website</span>
<span class="c"># 'origin' refers to the remote server and 'master' to the branch</span>
git push origin master
Counting objects: 7, <span class="k">done</span><span class="nb">.</span>
Delta compression using up to 4 threads.
Compressing objects: 100% <span class="o">(</span>7/7<span class="o">)</span>, <span class="k">done</span><span class="nb">.</span>
Writing objects: 100% <span class="o">(</span>7/7<span class="o">)</span>, 585 bytes | 0 bytes/s, <span class="k">done</span><span class="nb">.</span>
Total 7 <span class="o">(</span>delta 5<span class="o">)</span>, reused 0 <span class="o">(</span>delta 0<span class="o">)</span>
To https://github.com/darencard/darencard.github.io
   0ed1225..84634d5  master -&gt; master
</code></pre></div></div>

<p>Now if we refresh our GitHub repository page we should see the changes, including the commit messages. You can click on these files and view their contents, and you can even compare versions within GitHub, just like we‚Äôve already done locally. Now view your website using your URL and you‚Äôll see the changes reflected (sometimes GitHub takes a few minutes to render changes).</p>

<h2 id="populating-your-website-with-workshop-content">Populating Your Website with Workshop Content</h2>

<p>Part of the goal of this exercise, especially during a workshop, is to provide the learner with a compact package containing everything they need to go through the workshop again or to refresh their memory. Distributing this package in the form of a website repository not only provides all the files the user needs, but also allows the user to visualize the lessons from anywhere at anytime through a static website. If you look at the repository you originally forked, you‚Äôll see it contains the raw data that was used for the other portions of the Software Carpentry workshop attended. It also contains the markdown files with the lesson overviews (which you are currently reading). Unfortunately, the repository does not contain the output files generated as part of the workshop, which may be beneficial to have if one wants make comparisons with later work.</p>

<p>Let‚Äôs begin by creating a .zip archive containing the output from the other portions of the workshop.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Copy all output into a new directory 'output_data'</span>
<span class="c"># It would probably be best to organize files into subdirectories for Linux, Python, SQL</span>
<span class="c"># Zip the output_data directory</span>
zip <span class="nt">-r</span> output_data.zip output
<span class="c"># Move output_data.zip into the 'data' directory of your website repository</span>
</code></pre></div></div>

<p>Now we can add, commit, and push these changes.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="k">*</span>
git commit <span class="nt">-m</span> <span class="s2">"Added output zip"</span>
git push origin master
</code></pre></div></div>

<p>Now if we look at our website, we can view all of the lesson writeups, complete with both the raw and output data.</p>

<h2 id="using-a-pull-request-to-help-a-friend">Using a Pull Request to Help a Friend</h2>

<p>Let‚Äôs say that you have a friend who also took the Software Carpentry workshop, but who had to leave a little bit early. Therefore, he or she didn‚Äôt get a chance to properly add the output data to their website repository and has since deleted it. They ask you to help them out. Normally, one may just email the file over, but GitHub offers an alternative method of getting this data to your friend, with the added benefit of placing it directly into the correct location within your friend‚Äôs repository. This method is called a Pull Request.</p>

<p>To perform a Pull Request, you must first navigate to your friend‚Äôs website repository. Click the ‚ÄòNew pull request‚Äô button above the file list.</p>

<p><img src="/images/pull_request1.jpg" alt="Pull request page #1" /></p>

<p>On the next page you will see a few pieces of important information. The bar along the top displays the forks and branches that are to be merged. The ‚Äòbase fork‚Äô should be your friend‚Äôs repository where you are trying to send your updates. The ‚Äòbase‚Äô refers to the branch on that repository you are merging too, which will almost always be ‚Äòmaster‚Äô. The ‚Äòhead fork‚Äô is your updated repository with the changes you are trying to send to your friend. In this case, you are comparing your ‚Äòmaster‚Äô branch with your friend‚Äôs repository. Below you will see information on the number of updated commits and files, information that should match your expectations. When working with text files, like scripts, you should also see an intuitive graphic showing the change, with subtractions indicated in red with a ‚Äò-‚Äò sign and additions indicated in green with a ‚Äò+‚Äô sign. Github makes some checks to be sure that you can merge these forks together (see ‚ÄúAble to merge‚Äù in the above bar, but you should use this page to make sure you are happy with the changes you are sending to your friend‚Äôs repository. Once satisfied, you can press the ‚ÄòCreate pull request‚Äô button near the top of the page.</p>

<p><img src="/images/pull_request2.jpg" alt="Pull request page #2" /></p>

<p>On the next page you will see a text box with a subject line, much like an email message. This is what you use to provide information on the Pull Request you are undertaking, so that the other use can easily know the basics of what you are contributing. In the subject/header line you should write a brief, but informative, phrase about the changes occurring. If you would like to add more information, you can use the large text block below to provide more details. In this text block, it is possible to use markdown to render your information, and you can use the preview button to see what this will look like. Take a minute to create an informative message and comment to your friend and click ‚ÄòCreate pull request‚Äô near the bottom of the page.</p>

<p>Finally, you will see a confirmation/summary page about the Pull Request you just completed. GitHub again gives you the option of leaving a comment to help others understand your changes.</p>

<p>Before your changes can be incorporated, your friend must actually ‚ÄòMerge‚Äô your Pull Request. He or she must log into his or her account and should see a notification that a Pull Request is pending. This will take your friend to a page like that below, where he or she can view the changes you propoed.</p>

<p><img src="/images/pull_request3.jpg" alt="Pull request page #3" /></p>

<p>The ‚ÄòConversation‚Äô tab contains the description of the pull request you gave when you created it, and users can use this space to converse about potential changes over a series of messages, if needed. The ‚ÄòCommits‚Äô and ‚ÄòFiles changed‚Äô tabs are can be used to view the commits made and the actual file changes, using an environment that is similar to what you interacted with during your Pull Reqeust. When your friend is satisfied that he or she wants to accept your Pull Request, he or she can click ‚ÄòMerge pull request‚Äô. If the changes aren‚Äôt appropriate after some conversation, he or she can instead click ‚ÄòClose pull request‚Äô. Upon accepting a pull request, your changed file(s) will be incorporated into your friend‚Äôs repository, and his or her website should update to reflect the changes. Basically, your friend‚Äôs website will now contain an active link to the output data that he or she was missing.</p>

<h2 id="additional-resources-2">Additional Resources</h2>

<ul>
  <li>Git/GitHub
    <ul>
      <li><a href="http://swcarpentry.github.io/git-novice/">Software Carpentry</a></li>
    </ul>
  </li>
  <li>GitHub Pages
    <ul>
      <li><a href="https://help.github.com/categories/github-pages-basics/">GitHub Guide</a></li>
    </ul>
  </li>
</ul>
:ET